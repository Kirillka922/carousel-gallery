{"version":3,"file":"index.f6349ae587f3bcc7aede.js","mappings":";;;;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA,6CAA6C,QAAQ;AACrD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED","sources":["webpack://carousel-gallery/./src/index.js"],"sourcesContent":["const url =\n  \"https://966e3a17bd14-817885256656399495.ngrok-free.app/archive/media/V-ZAKUTNY-M/DeviceIpint.25/SourceEndpoint.video:0:0/20230711T084000\";\n\nasync function fetchHandler() {\n  try {\n    const response = await fetch(url, {\n      method: \"get\",\n      headers: {\n        Authorization: \"Basic \" + btoa(`root:root`),\n      },\n      mode: \"no-cors\",\n    });\n    const data = await response.json();\n    return data.file;\n  } catch (error) {\n    return \"https://ruseller.com/lessons/les2559/images/free-gif-preloaders-psds-03.gif\";\n    console.log(error);\n  }\n}\nfunction addLoading(elem) {\n  let img = document.createElement(\"img\");\n  img.className = \"imgContainer\";\n  img.setAttribute(\n    \"src\",\n    \"https://otkritkis.com/wp-content/uploads/2022/07/gufde.gif\"\n  );\n  elem.append(img);\n}\n\nasync function addImgToCont(elem) {\n  if (elem.childNodes.length === 0) addLoading(elem);\n  if (elem.childNodes.length === 1) {\n    elem.firstElementChild.src =\n      \"https://otkritkis.com/wp-content/uploads/2022/07/gufde.gif\";\n  }\n  let link = await fetchHandler();\n  elem.firstElementChild.src = link;\n}\n\nconst TIMER_INTERVAL = 500;\nconst RADIUS = 450;\nconst STEP_TRANSITION = 5;\nconst ALPHA_ANGLE = 2 * 3.14;\nconst SCROLL_START_POSITION = 72;\nconst FIRST_POSITION = 1304;\nconst FIX_DISTANCE_PICTURES = 60;\nconst container = document.getElementById(\"container\");\ncontainer.scrollLeft = SCROLL_START_POSITION;\nlet arrayContainers = [];\nlet flag = false;\n\nfunction addPoz(direction) {\n  container.scrollLeft = SCROLL_START_POSITION;\n\n  let lastElemLeft = null;\n  let lastElemTop = null;\n\n  function hideLastElem(elem) {\n    elem.style.display = \"none\";\n    elem.style.left = lastElemLeft;\n    elem.style.top = lastElemTop;\n\n    addImgToCont(elem);\n\n    setTimeout(() => {\n      elem.style.display = \"block\";\n      if (direction) arrayContainers.unshift(arrayContainers.pop());\n      if (!direction) arrayContainers.push(arrayContainers.shift());\n    }, TIMER_INTERVAL);\n  }\n\n  if (direction) {\n    lastElemLeft = arrayContainers[0].style.left;\n    lastElemTop = arrayContainers[0].style.top;\n    for (let i = 0; i < arrayContainers.length; i++) {\n      if (i === arrayContainers.length - 1) {\n        hideLastElem(arrayContainers[arrayContainers.length - 1]);\n      } else {\n        arrayContainers[i].style.left = arrayContainers[i + 1].style.left;\n        arrayContainers[i].style.top = arrayContainers[i + 1].style.top;\n      }\n    }\n  } else {\n    lastElemLeft = arrayContainers[arrayContainers.length - 1].style.left;\n    lastElemTop = arrayContainers[arrayContainers.length - 1].style.top;\n\n    for (let i = arrayContainers.length - 1; i >= 0; i--) {\n      if (i === 0) {\n        hideLastElem(arrayContainers[0]);\n      } else {\n        arrayContainers[i].style.left = arrayContainers[i - 1].style.left;\n        arrayContainers[i].style.top = arrayContainers[i - 1].style.top;\n      }\n    }\n  }\n\n  flag = false;\n}\n\nfunction printContainers() {\n  let arrayCords = createArrayCords();\n  arrayContainers.forEach((object, i) => {\n    arrayCords[i] = arrayCords[i] - STEP_TRANSITION;\n\n    object.style.left = `${\n      325 + RADIUS * Math.cos(ALPHA_ANGLE * arrayCords[i])\n    }px`;\n    object.style.top = `${\n      container.clientWidth + RADIUS * Math.sin(-ALPHA_ANGLE * arrayCords[i])\n    }px`;\n    addImgToCont(object);\n  });\n}\n\nfunction createArrayCords() {\n  const elements = container.querySelectorAll(\".element\");\n  let arrayCords = [];\n  elements.forEach((elem, i) => {\n    arrayCords[i] = [FIRST_POSITION + i * FIX_DISTANCE_PICTURES];\n    arrayContainers[i] = elem;\n  });\n\n  return arrayCords;\n}\n\nsetTimeout(() => {\n  container.addEventListener(\"scroll\", function (event) {\n    const isForward = container.scrollLeft < SCROLL_START_POSITION;\n    container.scrollLeft = SCROLL_START_POSITION;\n    if (flag) return;\n    flag = true;\n    setTimeout(() => addPoz(isForward), TIMER_INTERVAL);\n  });\n}, TIMER_INTERVAL);\n\nprintContainers();\n"],"names":[],"sourceRoot":""}